import Testing
@testable import QRTools

@Test func example() async throws {

	#expect(throws: QRCodeInfo.Error.emptyValue) {
		try QRCodeInfo(value: "")
	}
}

@Test func output() async throws {

	let qrCodeInfo = try QRCodeInfo(value: "42")

	var result = ""
	for row in 0..<qrCodeInfo.rows {
		for column in 0..<qrCodeInfo.columns {
			let bit = qrCodeInfo[row, column]
			result += bit ? "██" : "__"
		}
		if row < qrCodeInfo.rows - 1 {
			result += "\n"
		}
	}

	let expectedResult = """
		██████████████______██████__██████████████
		██__________██____██____██__██__________██
		██__██████__██__██__██████__██__██████__██
		██__██████__██__██__████____██__██████__██
		██__██████__██__██____████__██__██████__██
		██__________██__██████__██__██__________██
		██████████████__██__██__██__██████████████
		________________██____████________________
		██__██████████______██__██__██████████____
		__████__________██______██____██____██____
		██__██████████__██__████__██____██__██____
		____██____██______████________████__████__
		██____██____████__██████__██____██__████__
		________________████__████████____██__██__
		██████████████______██__██__████________██
		██__________██__████__████████____██______
		██__██████__██__██______██____██____██____
		██__██████__██__██__██__██____██____██____
		██__██████__██__██__████__██____██████____
		██__________██____████________████__████__
		██████████████__████████__██____██████____
		"""
	#expect(result == expectedResult)
}
